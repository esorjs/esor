var G=Object.defineProperty;var Q=e=>{throw TypeError(e)};var ze=(e,t,n)=>t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var i=(e,t)=>G(e,"name",{value:t,configurable:!0});var Y=(e,t,n)=>ze(e,typeof t!="symbol"?t+"":t,n),Z=(e,t,n)=>t.has(e)||Q("Cannot "+n);var E=(e,t,n)=>(Z(e,t,"read from private field"),n?n.call(e):t.get(e)),V=(e,t,n)=>t.has(e)?Q("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n);var ee=(e,t,n)=>(Z(e,t,"access private method"),n);var m,T,ne,x=class x{constructor(){V(this,T);V(this,m,new Map);x.current=this}add(t,n){return ee(this,T,ne).call(this,t).add(n),()=>E(this,m).get(t)?.delete(n)}run(t,n){E(this,m).get(t)?.forEach(r=>{try{r.call(n)}catch(o){n._catchError(o)}})}clear(t){t?E(this,m).delete(t):E(this,m).clear()}};m=new WeakMap,T=new WeakSet,ne=i(function(t){return E(this,m).has(t)||E(this,m).set(t,new Set),E(this,m).get(t)},"#hooks"),i(x,"Lifecycle"),Y(x,"current");var S=x,te=i(()=>S.current||(()=>{throw"Lifecycle not initialized"})(),"getLC"),[re,oe,ie,se,ce]=["beforeMount","mount","beforeUpdate","update","destroy"].map(e=>t=>te().add(e,t)),le=i(e=>{let t=e();return t instanceof Function&&te().add("destroy",t)||(()=>{})},"onEffect");var N={currentEffect:null,currentComponent:null,pendingEffects:new Set,isEffectsFlushing:!1,globalEvents:{handlersByType:new Map,nextId:0}},p=N;function _(e,t){let n=N.currentComponent;N.currentComponent=e;try{return t()}finally{N.currentComponent=n}}i(_,"withCurrentComponent");function D(e,t){return!Object.is(e,t)}i(D,"valuesChanged");var fe=i(e=>e instanceof DocumentFragment&&e||e?.content?.cloneNode()||document.createDocumentFragment(),"getDocumentFragment");function ue(e,t){let n=e.nextSibling;for(;n&&n!==t;){let r=n.nextSibling;n.parentNode.removeChild(n),n=r}}i(ue,"removeChildNodesBetween");var w=new WeakMap;function C(e,t){if(w.has(e)){let c=w.get(e)[t];if(c)return c}let n=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT),r=null,o=null;for(;n.nextNode()&&!o;){let c=n.currentNode;!r&&c.nodeValue===t?r=c:r&&c.nodeValue===`//${t}`&&(o=c)}let s=[r,o];return w.set(e,{...w.get(e),[t]:s}),s}i(C,"findCommentPlaceholders");function ae(e){let n=HTMLElement.prototype.hasOwnProperty("attachInternals")?e.attachInternals():null;n?.shadowRoot?e.shadowRoot=n.shadowRoot:e.attachShadow({mode:"open"})}i(ae,"setupDeclarativeShadowRoot");function H(e,t){return e&&e.__signalArray===!0?e:new Proxy(e,{get(n,r,o){let s=Reflect.get(n,r,o);return typeof s=="function"?function(...c){let l=s.apply(n,c);return Array.isArray(l)?(l.__signalArray=!0,l.__signal=t,c.length>0&&typeof c[0]=="function"&&(l.__mapFn=c[0]),H(l,t)):l}:s}})}i(H,"wrapArray");var U={info:{color:"#0066cc",icon:"\u2139\uFE0F"},warn:{color:"#FFA500",icon:"\u26A0\uFE0F"},error:{color:"#FF0000",icon:"\u{1F6AB}"}},q=i((e="info",t="",...n)=>{U[e]||(e="info"),console.groupCollapsed(`%c[ESOR ${U[e].icon}${Le(e)}] ${t}`,`color: ${U[e].color}; font-weight: bold;`),console[e]({message:t,component:p.currentComponent?.constructor?.name||"Unknown",time:new Date().toISOString(),data:n.length?n:void 0}),console[e==="error"?"trace":"debug"](),console.groupEnd()},"log"),Le=i(e=>e?e.charAt(0).toUpperCase()+e.slice(1):"","capitalize"),Mt=i((...e)=>q("info",...e),"info"),Rt=i((...e)=>q("warn",...e),"warn"),h=i((...e)=>q("error",...e),"error");function W(){if(p.isEffectsFlushing)return;p.isEffectsFlushing=!0;let e=Array.from(p.pendingEffects);p.pendingEffects.clear();for(let t of e)typeof t=="function"?t():h("Non-function in flushEffects:",t);p.isEffectsFlushing=!1}i(W,"flushEffects");function g(e){let t=i(()=>{let n=p.currentEffect;p.currentEffect=t;try{return e()}finally{p.currentEffect=n}},"effect");return t(),t}i(g,"useEffect");var v=0,$=new Set;function y(e){let t=new Set,n=e;function r(){return p.currentEffect&&t.add(p.currentEffect),Array.isArray(n)?H(n,r):n}i(r,"readFn");let o=new Map,s=new Proxy(r,{apply(c,l,u){return Reflect.apply(c,l,u)},get(c,l){if(l===Symbol.toPrimitive)return()=>r();if(l==="valueOf")return()=>s();if(l==="toString")return()=>String(s());let u=r();if(u==null||typeof u!="object"&&typeof u!="function")return Reflect.get(Object(u),l);let f=Reflect.get(u,l);if(typeof f=="function")return f.bind(u);if(!o.has(l)){let a=i(()=>r()[l],"computedFn");Object.defineProperty(a,Symbol.toPrimitive,{value:i(()=>r()[l],"value")}),o.set(l,a)}return o.get(l)}});return Object.assign(s,{signal:!0,cleanup:i(()=>{t.clear(),n=e},"cleanup")}),[s,c=>{if(D(n,c)){if(n=c,v>0){t.forEach(l=>$.add(l));return}queueMicrotask(()=>{t.forEach(l=>{typeof l=="function"&&p.pendingEffects.add(l)}),W()})}}]}i(y,"useSignal");function pe(e){let[t,n]=y(e());return g(()=>{let r=e();D(t(),r)&&queueMicrotask(()=>n(r))}),t}i(pe,"useComputed");function de(e){v++;try{return e()}finally{if(v--,v===0&&$.size){for(let t of $)p.pendingEffects.add(t);$.clear(),W()}}}i(de,"useBatch");var M=i(e=>e==null?"":e.toString().replace(/[&<>'"]/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;","/":"&#x2F;"})[t]),"escapeHTML");function me(e){return e==null?"":String(e).replace(/^["']|["']$/g,"").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}i(me,"cleanAttributeValue");var z=new Map;function ge(e,t){return e.has(t)||e.set(t,new Map),e.get(t)}i(ge,"getOrCreateMap");function he(e,t){if(!e||typeof t!="function")return h("Invalid event registration parameters"),-1;let n=ge(z,e),r=ge(p.globalEvents.handlersByType,e),o=p.globalEvents.nextId++;return p.currentComponent&&p.currentComponent._eventIds.push({type:e,id:o}),r.set(o,t),n.set(o,t),o}i(he,"registerEvent");function ye(e,t){let n=p.globalEvents.handlersByType.get(e);if(n){n.delete(t),n.size===0&&p.globalEvents.handlersByType.delete(e);let r=z.get(e);r&&(r.delete(t),r.size===0&&z.delete(e))}}i(ye,"clearEventHandler");function Ee(e,t){let n=p.currentComponent;if(!n)return h("useEmit must be used within a component"),null;let r=new CustomEvent(e,{detail:t,bubbles:!0,composed:!0,cancelable:!0});return r.__esor={name:e,detail:t,receivedBy:[],timestamp:Date.now()},n.dispatchEvent(r),r}i(Ee,"useEmit");var be="$:",b="data-esor-event-",Xe="data-esor-bind-",Je=/\s(\w[\w-]*)=(["'])?(?:(?!\2).)*$/,Se=/ref=(["'])?\s*$/,xe=/(@\w+)=(["'])?\s*$/,Ke=/(["'])\s*$/,Ge=/^(script|style|textarea|title)$/i;function Ae(e,t,n,r){let o=e&&e.charAt(e.length-1)==='"'?'"':"'";return e.replace(t,`${n}=${o}${r}${o}`)}i(Ae,"replaceAttribute");function Qe(e){return e.replace(Ke,"")}i(Qe,"removeQuote");var L=i(e=>e&&typeof e=="object"&&e.template,"isTemplateObject");function Ye(e,t,n,r){return r.set(n,e),Ae(t,Se,`data-ref-${n}`,"true")}i(Ye,"injectRef");function Ze(e,t,n){let r=he(t,e);return e.isEventHandler=!0,Ae(n,xe,`${b}${t}`,r)}i(Ze,"injectEvent");function et(e,t,n,r,o){n=Qe(n);let s=n&&n.charAt(n.length-1)==='"'?'"':"'",c=typeof e=="function"?e():e,l=Ge.test(t)?String(c):M(c),u=`${Xe}${r}`;return n+=`${s}${l}${s} ${u}=${s}true${s}`,o.set(r,{type:"attribute",signal:e,attributeName:t,bindAttr:u}),n}i(et,"injectSignalAttr");function Te(e,t,n,r,o){let s=`${be}${r}`;o.set(r,{type:t?"expression":"text",signal:e,bindAttr:s});let c=t?e():e;return`${n}<!--${s}-->${M(String(c))}<!--//${s}-->`}i(Te,"injectExpr");function Ne(e,t,n,r,o,s){let c=`${be}${t}`,l={type:"array",signal:o?()=>(e.__signal()||[]).map(e.__mapFn||(a=>a)):typeof s=="function"?s:()=>e,bindAttr:c};n.set(t,l);let f=(Array.isArray(e)?e:[]).map(R).join("");return`${r}<!--${c}-->${f}<!--//${c}-->`}i(Ne,"injectArray");function R(e){if(e==null||e===!1)return"";if(Array.isArray(e))return e.reduce((t,n)=>t+R(n),"");if(L(e)){let t=e.template.childNodes,n=[];for(let r=0,o=t.length;r<o;r++){let s=t[r];s.nodeType===1&&s.hasAttribute("key")&&(s.setAttribute("data-key",s.getAttribute("key")),s.removeAttribute("key")),n.push(s.outerHTML||s.textContent)}return n.join("")}if(e?.type==="template-array")return e.templates.reduce((t,n)=>t+R(n),"");if(e instanceof SVGElement){let t=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.appendChild(e.cloneNode(!0)),t.innerHTML}return M(String(e))}i(R,"processVal");function tt(e,...t){let n="",r=new Map,o=new Map,s=0,c=0;for(let u=0;u<e.length;u++){if(n+=e[u],u>=t.length)continue;let f=t[u],a=e[u].match(Je),d=!!a,j=a?.[1],He=n.match(Se),P=n.match(xe),Ue=He&&typeof f=="function",qe=P&&typeof f=="function",We=P?P[1].slice(1):null;Ue?n=Ye(f,n,c++,o):qe?n=Ze(f,We,n):(f?.signal||typeof f=="function")&&d?n=et(f,j,n,s++,r):Array.isArray(f)&&f.__signalArray===!0?n=Ne(f,s++,r,n,!0):f?.signal?n=Te(f,!1,n,s++,r):typeof f=="function"?n=Te(f,!0,n,s++,r):Array.isArray(f)?n=Ne(f,s++,r,n,!1,f):f!=null&&(n+=R(f))}let l=document.createElement("template");return l.innerHTML=n.trim(),{template:l.content,signals:r,refs:o}}i(tt,"processTemplate");function _e(e){try{return e()??null}catch{return null}}i(_e,"evalExpr");function we(e,...t){return tt(e,...t)}i(we,"html");function k(e,t,n,r,o){n=[...n||[]],r=[...r||[]];let s=t.parentNode,c=nt(e,t),l=it(r,c,n);lt(s,c,l,t),F(o,e,t),e.__oldItems=[...r]}i(k,"reconcileArrays");function nt(e,t){let n=[],r=e.nextSibling;for(;r&&r!==t;)n.push(r),r=r.nextSibling;return n}i(nt,"collectNodes");function A(e){return e&&e.nodeType===Node.ELEMENT_NODE}i(A,"isValidDOMNode");function rt(e){return A(e)?e.getAttribute("data-key"):null}i(rt,"getNodeKey");function ot(e,t,n,r){if(!e||!t||!n?.template||!r?.template)return!1;e.firstChild?.nodeType===3&&e.normalize(),t.firstChild?.nodeType===3&&t.normalize();let o=Ce(e),s=Ce(t);if(o.length!==s.length)return!1;let c=!1;for(let l=0,u=o.length;l<u;l++){let f=o[l].textContent,a=s[l].textContent;f!==a&&(o[l].textContent=a,c=!0)}return c}i(ot,"updateNodeContent");function Ce(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),r;for(;r=n.nextNode();)t.push(r);return t}i(Ce,"getTextNodes");function it(e,t,n){let r=new Map,o=new Map,s=[e.length];for(let c=0,l=t.length;c<l;c++){let u=rt(t[c]);u&&r.set(u,t[c])}for(let c=0,l=n.length;c<l;c++)o.set($e(n[c],c),n[c]);for(let c=0,l=e.length;c<l;c++)s[c]=$e(e[c],c);return e.map((c,l)=>{let u=s[l],f=r.get(u),a=o.get(u);if(f?.nodeType===1){if(!a||st(a,c)){let d=Me(c,u);return ot(f,d,a,c)?(ct(f,d),f):d}return f}return Me(c,u)})}i(it,"createOrReuseNodes");function st(e,t){if(!e||!t)return!0;if(e?.template&&t?.template){let n=ve(e),r=ve(t);return!O(n,r)}return!O(e,t)}i(st,"hasChanged");function ve(e){let t=e?.template;if(!t)return null;let n=[],r=t.cloneNode(!0),o=document.createTreeWalker(r,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode(c){return c.nodeType===3?c.textContent.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}}),s;for(;s=o.nextNode();)if(s.nodeType===3)n.push(s.textContent);else{let c=s.attributes;for(let l=0,u=c.length;l<u;l++){let f=c[l].value;f.includes("${")&&(n[n.length]=f)}}return n}i(ve,"extractDynamicValues");function O(e,t){if(e===t)return!0;if(!e||!t||typeof e!=typeof t)return!1;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((n,r)=>O(n,t[r]));if(typeof e=="object"){let n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(o=>O(e[o],t[o]))}return String(e)===String(t)}i(O,"areValuesEqual");function ct(e,t){if(!A(e)||!A(t))return;let n=e.attributes;for(let r=n.length;r--;){let o=n[r];o.name.lastIndexOf(b,0)===0&&t.setAttribute(o.name,o.value)}}i(ct,"copyEventAttributes");function $e(e,t){if(e?.key!==void 0)return`key-${e.key}`;if(e?.template){let n=e.template.firstElementChild;if(e.id)return`item-${e.id}`;if(n&&A(n)){let r=n.getAttribute("key");if(r)return r}return`template-${t}`}if(e&&typeof e=="object"){if(e.id)return`item-${e.id}`;try{return`item-${t}-${JSON.stringify(e)}`}catch{return`item-${t}`}}return`item-${t}-${String(e)}`}i($e,"getItemKey");function Me(e,t){let n;return e?.template?n=e.template.cloneNode(!0).firstElementChild||document.createElement("div"):(n=document.createElement("div"),n.textContent=String(e)),A(n)&&n.setAttribute("data-key",t),n}i(Me,"createNode");function lt(e,t,n,r){let o=0,s=t.length,c=0,l=n.length,u=s>0&&t[s-1].nextSibling||r,f=null;if(s===0){for(let a=0;a<l;a++)e.insertBefore(n[a],u);return}if(l===0){for(;o<s;){let a=t[o++];a instanceof Node&&e.removeChild(a)}return}for(;o<s||c<l;){if(t[o]===n[c]){o++,c++;continue}for(;t[s-1]===n[l-1];)s--,l--;if(o===s){let a=l<n.length?c?n[c-1].nextSibling:n[l-c]:u;for(;c<l;)e.insertBefore(n[c++],a)}else if(c===l)for(;o<s;)(!f||!f.has(t[o]))&&e.removeChild(t[o]),o++;else if(t[o]===n[l-1]&&n[c]===t[s-1]){let a=t[--s].nextSibling;e.insertBefore(n[c++],t[o++].nextSibling),e.insertBefore(n[--l],a),t[s]=n[l]}else{if(!f){f=new Map;for(let d=c;d<l;d++)f.set(n[d],d)}let a=f.get(t[o]);if(a==null)e.removeChild(t[o++]);else if(c<a&&a<l){let d=1;for(;o+d<s&&a+d<l&&t[o+d]===n[a+d];)d++;if(d>a-c){let j=t[o];for(;c<a;)e.insertBefore(n[c++],j)}else e.replaceChild(n[c++],t[o++])}else o++}}}i(lt,"ddiff");function I(e,t,n){let r=g(()=>{if(!e._isUpdating){e._isUpdating=!0;try{n(t())}finally{e._isUpdating=!1}}});e._cleanup.add(r)}i(I,"bindSignalToElement");function F(e,t,n){let{shadowRoot:r}=e,o=ft(r,t,n);ut(e,o)}i(F,"bindEventsInRange");function ft(e,t,n){let r=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null);if(!t&&!n)for(;o.nextNode();)r.push(o.currentNode);else{let s=t?.nextSibling||e.firstChild;if(!s)return r;o.currentNode=s;do{if(o.currentNode===n)break;r.push(o.currentNode)}while(o.nextNode())}return r}i(ft,"getElementsInRange");function ut(e,t){for(let n of t)for(let r of Array.from(n.attributes)){if(!r.name.startsWith(`${b}`))continue;let o=r.name.replace(b,""),s=parseInt(r.value,10),c=p.globalEvents.handlersByType.get(o)?.get(s);typeof c=="function"&&(n.addEventListener(o,(...l)=>_(e,()=>c.call(e,...l))),n.removeAttribute(r.name))}}i(ut,"bindEvents");function Re(e,t){if(!(!t||t.size===0))for(let{type:n,signal:r,bindAttr:o,attributeName:s}of t.values())switch(n){case"attribute":at(e,r,o,s);break;case"array":pt(e,r,o);break;case"text":case"expression":ke({host:e,type:n,signal:r,bindAttr:o});break}}i(Re,"setupSignals");function at(e,t,n,r){let o=e.shadowRoot.querySelector(`[${n}]`);o&&(o.removeAttribute(n),I(e,t,s=>{let c=String(s);o.getAttribute(r)!==c&&o.setAttribute(r,c)}))}i(at,"handleAttributeSignal");function pt(e,t,n){let[r,o]=C(e.shadowRoot,n);!r||!o||I(e,t,s=>{let c=r.__oldItems||[],l=Array.isArray(s)?s:[];k(r,o,c,l,e)})}i(pt,"handleArraySignal");function Oe(e,t){if(t)for(let[n,r]of t.entries()){let o=e.shadowRoot.querySelector(`[data-ref-${n}]`);o&&(o.removeAttribute(`data-ref-${n}`),r(o))}}i(Oe,"setupRefs");var X=new Map;function Fe(e,t){let n=fe(t);return X.has(e)||X.set(e,n.cloneNode(!0)),X.get(e).cloneNode(!0)}i(Fe,"cachedTemplate");function dt(e,{signal:t,bindAttr:n,renderer:r}){let[o,s]=C(e.shadowRoot,n);!o||!s||I(e,t,c=>r(o,s,c))}i(dt,"bindPlaceholderSignal");function ke({host:e,type:t,signal:n,bindAttr:r}){dt(e,{signal:n,bindAttr:r,renderer:i((o,s,c)=>{let l=t==="expression"?_e(()=>c):c;l!=null&&mt(e,o,s,l)},"renderer")})}i(ke,"handleSignalBinding");function mt(e,t,n,r){if(Array.isArray(r)&&r.some(L)){k(t,n,t.__oldItems||[],r,e);return}let o=t.nextSibling;if(o&&o.nodeType===Node.TEXT_NODE)o.textContent=String(r);else{ue(t,n);let s=document.createTextNode(String(r));n.parentNode.insertBefore(s,n)}}i(mt,"renderEvaluated");var J=i(e=>e&&!/^(data-esor-|@|ref|key$)/.test(e)&&/^[a-z][\w\-_:]*$/i.test(e),"specialAttr");var B;function gt(e){return B||(B=document.createElement("textarea")),B.innerHTML=e,B.value}i(gt,"decodeHTMLEntities");function Ie(e){if(typeof e!="string")return e;e.indexOf("&")!==-1&&(e=gt(e));let t=e.trim();if(!t)return t;let n=t.toLowerCase(),r={true:!0,false:!1,null:null,undefined:void 0,nan:NaN,infinity:1/0,"-infinity":-1/0};if(n in r)return r[n];let o=Number(t);if(!Number.isNaN(o))return o;try{return JSON.parse(t)}catch{return t}}i(Ie,"coerceAttrValue");function ht(e){e._props=e._props||{},e._propsSetters=e._propsSetters||{};for(let{name:t,value:n}of e.attributes){if(!J(t)||Object.prototype.hasOwnProperty.call(e,t))continue;let r=Ie(me(n)),[o,s]=y(r);typeof r=="object"?Object.defineProperty(e._props,t,{get:o,configurable:!0}):(e._props[t]=o,e._propsSetters[t]=s)}}i(ht,"generateSpecialAttrSignals");function yt(e){let t=new MutationObserver(n=>{for(let r of n){if(r.type!=="attributes"||!J(r.attributeName))continue;let o=e._propsSetters[r.attributeName];if(o){let s=Ie(e.getAttribute(r.attributeName));o(s)}}});t.observe(e,{attributes:!0,attributeOldValue:!0}),e._cleanup.add(()=>t.disconnect())}i(yt,"observeAttrMutations");function Be(e){ht(e),yt(e)}i(Be,"initPropsAndObserve");function je(e,t){let r=class r extends HTMLElement{constructor(){super(),ae(this),Object.assign(this,{_cleanup:new Set,_isUpdating:!1,_props:{},_eventIds:[],lifecycle:new S}),p.currentComponent=this,Be(this),this.lifecycle.run("beforeMount",this),this._render()}connectedCallback(){this.lifecycle.run("mount",this)}disconnectedCallback(){this.lifecycle.run("destroy",this),this._cleanup.forEach(s=>s()),this._cleanup.clear(),this._eventIds.forEach(({type:s,id:c})=>ye(s,c)),this._eventIds=[]}_render(){_(this,()=>{this.lifecycle.run("beforeUpdate",this);let s=t.call(this,this._props),{template:c,signals:l,refs:u}=typeof s=="function"?s():s||{};this.shadowRoot.hasChildNodes()||this.shadowRoot.appendChild(Fe(e,c)),Re(this,l),F(this),Oe(this,u),this.lifecycle.run("update",this)})}};i(r,"EsorComponent");let n=r;return customElements.define(e,n),n}i(je,"component");function Pe(){let e=null;return new Proxy(()=>{},{apply:i((t,n,[r])=>e=r,"apply"),get:i((t,n)=>e?.[n]?.bind?.(e)||e?.[n],"get"),set:i((t,n,r)=>e?(e[n]=r,!0):!1,"set")})}i(Pe,"useRef");function Ve(e,t=[]){let[n,r]=y(e());return g(()=>{r(e())},t),n}i(Ve,"useMemo");var K="esor-store:",De=i((e,t={})=>{let n=t.persist?Et(t.persist):null,[r,o]=y(n||e),s=new Set;return t.persist&&g(()=>{let l=i(u=>{if(u.key===K+t.persist)try{o(JSON.parse(u.newValue))}catch(f){h(`Failed to sync state: ${f.message}`)}},"handleStorage");return window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)}),[r,{setState(l){let u=typeof l=="function"?l(r()):l;o(u),t.persist&&bt(t.persist,u),s.forEach(f=>f(u))},subscribe(l){return s.add(l),()=>s.delete(l)},getState:r}]},"useStore");function Et(e){try{let t=localStorage.getItem(K+e);return t?JSON.parse(t):null}catch(t){return h(`Failed to load state: ${t.message}`),null}}i(Et,"loadFromStorage");function bt(e,t){try{localStorage.setItem(K+e,JSON.stringify(t))}catch(n){h(`Failed to save state: ${n.message}`)}}i(bt,"saveToStorage");export{re as beforeMount,ie as beforeUpdate,je as component,we as html,ce as onDestroy,le as onEffect,oe as onMount,se as onUpdate,de as useBatch,pe as useComputed,g as useEffect,Ee as useEmit,Ve as useMemo,Pe as useRef,y as useSignal,De as useStore};
//# sourceMappingURL=esor.min.js.map
